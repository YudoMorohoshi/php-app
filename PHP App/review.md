# PHP App ① レビュー

## 全般

### 以下のaタグのリンクを押下した際にedit.phpの$_GETにどんな値が格納されるか説明してください。

```html
<a href="edit.php?todo_id=123&todo_content=焼肉">更新</a>
```
リンクを押すとedit.php?todo_id=123&todo_content=焼肉のURLにリダイレクトされ、
以下の配列が$_GETに格納されます。

$_GET = [
    'todo_id' => '123',        
    'todo_content' => '焼肉'   
];

  $_GETはURLのクエリパラメータをキーと値のペアとして取得するためのスーパーグローバル変数です。


### 以下のフォームの送信ボタンを押下した際にstore.phpの$_POSTにどんな値が格納されるか説明してください。

```html
<form action="store.php" method="post">
    <input type="text" name="id" value="123">
		<textarea　name="content">焼肉</textarea>
    <button type="submit">送信</button>
</form>
```
送信ボタンを押すと、store.php にデータがPOSTリクエストとして送信されます。
$_POSTに格納される内容は以下の通りです

$_POST = [
    'id' => '123',       
    'content' => '焼肉' 
];

$_POST['id']は<input>タグ内のname="id"がキーになり、value="123"の"123"の値が格納されます。
$_POST['content']は<textarea>タグ内の name="content" に対応しているので、"content"がキーとなり、このタグの間に記載された文字列(焼肉)が値として格納されます。


### `require_once()` は何のために記述しているか説明してください。
指定されたファイルを一度だけ読み込むための関数です。指定したファイルを読み込むことで、ファイル内にある関数やクラスなどが、現在のスクリプトに組み込まれます。
コードの重複読み込みや再定義によるエラーを防ぐために使用されます。
### `savePostedData($post)`は何をしているか説明してください。

### `header('location: ./index.php')`は何をしているか説明してください。
HTTPヘッダーを送信して、index.phpにリダイレクトするための関数です。
header関数は、サーバーからブラウザに対して HTTPヘッダーを送信するための関数です。
### `getRefererPath()`は何をしているか説明してください。

### `connectPdo()` の返り値は何か、またこの記述は何をするための記述か説明してください。
connectPdo()の返り値はPDOクラスのインスタンス化が返ります。この記述はPHPからデータベースへの接続を試みるための記述です。
PDOクラスのコンストラクタの初期処理内容に、データーベースへの接続処理が含まれています。

### `try catch`とは何か説明してください。
プログラム内で発生する可能性のあるエラーを検知して安全に処理するための構文です。
エラーに応じた適切な対処を実行できます。
try内でエラーが発生した場合、throwすることでcatch部分でそのエラーを適切に処理することができます。
エラーごとに異なる処理できるため、プログラムの安全性やエラー処理の分離で可読性が向上します。

### Pdoクラスをインスタンス化する際に`try catch`が必要な理由を説明してください。
PDOクラスをインスタンス化する際にtry-catchが必要な理由は、データベース接続が失敗する可能性があり、そのエラーを適切にキャッチして処理し、プログラムの異常終了やセキュリティリスクを防ぐためです。エラーメッセージがそのまま画面に表示されると、データベースの接続情報（ユーザー名やパスワード）などが漏洩する恐れがあるため、try-catchが必要となります。

## 新規作成

### `createTodoData($post)`は何をしているか説明してください。
createTodoData($post) は、ユーザーがフォームから入力して格納された$post 配列から content の値を取得して、新しいTODOデータをデータベースに追加するための関数です。
ユーザーがフォームに入力した内容（content）が $post['content'] として渡されます。
その content の値を使って、データベースの todos テーブルに新しいレコードが挿入されます。
## 一覧

### `getTodoList()`の返り値について説明してください。
getTodoList()の返り値は、データベースのtodosテーブルに格納されている未削除の全レコードを配列として取得したものです。
具体的には、fetchAll()によって取得された連想配列の配列が返ります。
### `<?= ?>`は何の省略形か説明してください。
<?php echo ?>の省略形です。
HTMLと混在しているコードで、出力部分がスッキリします。
## 更新

### `getSelectedTodo($_GET['id'])`の返り値は何か、またなぜ`$_GET['id']` を引数に渡すのか説明してください。

### `updateTodoData($post)`は何をしているか説明してください。

## 削除

### `deleteTodoData($id)`は何をしているか説明してください。

### `deleted_at`を現在時刻で更新すると一覧画面からToDoが非表示になる理由を説明してください。

### 今回のように実際のデータを削除せずに非表示にすることで削除されたように扱うことを〇〇削除というか。

### 実際にデータを削除することを〇〇削除というか。

### 前問のそれぞれの削除のメリット・デメリットについて説明してください。
